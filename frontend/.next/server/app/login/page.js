(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(4687),r(1506),r(5866);var n=r(3191),s=r(8716),a=r(7922),o=r.n(a),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4687)),"/workspaces/atp-gestion-agro/frontend/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/workspaces/atp-gestion-agro/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/atp-gestion-agro/frontend/app/login/page.tsx"],u="/login/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2347:(e,t,r)=>{Promise.resolve().then(r.bind(r,2911))},6147:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},4568:()=>{},2911:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(326),s=r(7626),a=r.n(s),o=r(7577),i=r(5047),l=r(7863);let d={sm:{mark:"w-8 h-8 rounded-lg",svg:"w-4 h-4",name:"text-base",sub:"text-[9px]"},md:{mark:"w-9 h-9 rounded-[9px]",svg:"w-5 h-5",name:"text-[17px]",sub:"text-[10px]"},lg:{mark:"w-14 h-14 rounded-2xl",svg:"w-8 h-8",name:"text-2xl",sub:"text-xs"}};function c({variant:e="dark",size:t="md"}){let r=d[t],s="light"===e;return(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[n.jsx("div",{className:(0,l.cn)(r.mark,"flex items-center justify-center flex-shrink-0",s?"bg-white/15 border border-white/25":"bg-green-700"),children:(0,n.jsxs)("svg",{className:r.svg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M4 19L9 5L14 19",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M6 14H12",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M14 5H20",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M17 5V19",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:(0,l.cn)(r.name,"font-display leading-none font-normal",s?"text-white":"text-gray-900"),children:"ATP"}),n.jsx("div",{className:(0,l.cn)(r.sub,"uppercase tracking-widest font-medium",s?"text-green-200":"text-gray-500"),children:"Gesti\xf3n Agro"})]})]})}let u=(0,o.forwardRef)(({label:e,error:t,variant:r="default",className:s,...a},o)=>{let i="dark"===r;return(0,n.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&n.jsx("label",{className:(0,l.cn)("text-[11px] font-semibold uppercase tracking-widest",i?"text-white/50":"text-gray-500"),children:e}),n.jsx("input",{ref:o,className:(0,l.cn)("w-full rounded-lg px-3.5 py-2.5 text-sm outline-none transition-all duration-150","border focus:ring-1 focus:ring-green-500",i?"bg-white/7 border-white/12 text-white placeholder:text-white/25 focus:border-green-500 focus:bg-white/10":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-green-500 focus:bg-white",t&&"border-red-400 focus:ring-red-400",s),...a}),t&&n.jsx("p",{className:"text-xs text-red-400",children:t})]})});u.displayName="Input";let p={primary:"bg-green-700 text-white hover:bg-green-600 border-transparent",secondary:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",ghost:"bg-transparent text-gray-600 border-transparent hover:bg-gray-100"},m={sm:"text-xs font-medium px-3 py-1.5 rounded-md",md:"text-sm font-semibold px-4 py-2 rounded-lg",lg:"text-sm font-semibold px-5 py-3 rounded-lg w-full"};function h({variant:e="primary",size:t="md",loading:r=!1,className:s,children:a,disabled:o,...i}){return(0,n.jsxs)("button",{...i,disabled:o||r,className:(0,l.cn)("inline-flex items-center justify-center gap-2 border transition-all duration-150","disabled:opacity-60 disabled:cursor-not-allowed",p[e],m[t],s),children:[r&&(0,n.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a]})}var f=r(9023);function x(){let e=(0,i.useRouter)(),[t,r]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[d,p]=(0,o.useState)(!1),[m,x]=(0,o.useState)(null);async function g(r){if(r.preventDefault(),x(null),!t.trim()||!s){x("Complet\xe1 todos los campos.");return}try{p(!0),await (0,f.x)({email:t.trim(),password:s}),e.replace("/dashboard")}catch(e){e instanceof Error?x("Credenciales incorrectas. Verific\xe1 tu email y contrase\xf1a."):x("Error inesperado. Intent\xe1 nuevamente.")}finally{p(!1)}}return(0,n.jsxs)("main",{className:"jsx-4da3ab856d6f5d55 min-h-screen bg-green-900 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsx("div",{style:{background:"radial-gradient(circle at 20% 20%, rgba(61,138,95,0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(139,111,71,0.08) 0%, transparent 50%)"},className:"jsx-4da3ab856d6f5d55 absolute inset-0 pointer-events-none"}),(0,n.jsxs)("div",{style:{animation:"fadeUp 0.5s ease both"},className:"jsx-4da3ab856d6f5d55 relative z-10 w-full max-w-sm bg-white/4 border border-white/10 backdrop-blur-md rounded-2xl px-10 py-12 shadow-2xl",children:[n.jsx("div",{className:"jsx-4da3ab856d6f5d55 flex justify-center mb-9",children:n.jsx(c,{variant:"light",size:"lg"})}),(0,n.jsxs)("div",{className:"jsx-4da3ab856d6f5d55 text-center mb-8",children:[n.jsx("h1",{className:"jsx-4da3ab856d6f5d55 font-display text-2xl font-normal text-white",children:"Bienvenido"}),n.jsx("p",{className:"jsx-4da3ab856d6f5d55 text-sm text-white/40 mt-1.5",children:"Ingres\xe1 para acceder a tu gesti\xf3n"})]}),(0,n.jsxs)("form",{onSubmit:g,className:"jsx-4da3ab856d6f5d55 space-y-4",children:[n.jsx(u,{label:"Correo electr\xf3nico",type:"email",name:"email",autoComplete:"email",placeholder:"productor@campo.com",value:t,onChange:e=>r(e.target.value),variant:"dark"}),n.jsx(u,{label:"Contrase\xf1a",type:"password",name:"password",autoComplete:"current-password",placeholder:"••••••••",value:s,onChange:e=>l(e.target.value),variant:"dark"}),m&&n.jsx("p",{className:"jsx-4da3ab856d6f5d55 text-xs text-red-300 bg-red-900/30 border border-red-500/20 rounded-lg px-3 py-2.5",children:m}),n.jsx(h,{type:"submit",size:"lg",loading:d,className:"mt-2",children:"Ingresar"})]}),(0,n.jsxs)("p",{className:"jsx-4da3ab856d6f5d55 text-center text-xs text-white/20 mt-8",children:["\xa9 ",new Date().getFullYear()," ATP Gesti\xf3n Agro — Uso interno"]})]}),n.jsx(a(),{id:"4da3ab856d6f5d55",children:"@-webkit-keyframes fadeUp{from{opacity:0;-webkit-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-webkit-transform:none;transform:none}}@-moz-keyframes fadeUp{from{opacity:0;-moz-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-moz-transform:none;transform:none}}@-o-keyframes fadeUp{from{opacity:0;-o-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-o-transform:none;transform:none}}@keyframes fadeUp{from{opacity:0;-webkit-transform:translatey(16px);-moz-transform:translatey(16px);-o-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-webkit-transform:none;-moz-transform:none;-o-transform:none;transform:none}}"})]})}},7863:(e,t,r)=>{"use strict";r.d(t,{LP:()=>a,MY:()=>l,cn:()=>c,gy:()=>i,i:()=>d,o4:()=>o});let n="token",s="atp_token";function a(){return null}function o(e){localStorage.setItem(n,e)}function i(){localStorage.removeItem(n)}function l(e){document.cookie=`${s}=${e}; path=/; SameSite=Lax; max-age=604800`}function d(){document.cookie=`${s}=; path=/; max-age=0`}function c(...e){return e.filter(Boolean).join(" ")}},5047:(e,t,r)=>{"use strict";var n=r(7389);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},8472:()=>{},1596:(e,t,r)=>{"use strict";r(8472);var n=r(7577),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),a="undefined"!=typeof process&&process.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,s=t.optimizeForSpeed,i=void 0===s?a:s;l(o(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",l("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(o(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return r?s.insertBefore(n,r):s.appendChild(n),n},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},c={};function u(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return c[n]||(c[n]="jsx-"+d(e+"-"+r)),c[n]}function p(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return c[r]||(c[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[r]}var m=n.createContext(null);m.displayName="StyleSheetContext",s.default.useInsertionEffect||s.default.useLayoutEffect;var h=void 0;function f(e){var t=h||n.useContext(m);return t&&t.add(e),null}f.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=f},7626:(e,t,r)=>{"use strict";e.exports=r(1596).style},9023:(e,t,r)=>{"use strict";r.d(t,{x:()=>i,k:()=>l});var n=r(7863);class s extends Error{constructor(e,t){super(t),this.status=e,this.name="ApiError"}}async function a(e,t={},r=!0){let a={"Content-Type":"application/json",...t.headers};if(r){let e=(0,n.LP)();e&&(a.Authorization=`Bearer ${e}`)}let o=await fetch(`/api${e}`,{...t,headers:a});if(!o.ok){let e=await o.text().catch(()=>"Unknown error");throw new s(o.status,e)}if(204!==o.status)return o.json()}let o={post:(e,t,r=!0)=>a(e,{method:"POST",body:JSON.stringify(t)},r)};async function i(e){let t=await o.post("/auth/login",e,!1);(0,n.o4)(t.access_token),(0,n.MY)(t.access_token)}function l(){(0,n.gy)(),(0,n.i)()}},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var n=r(9510),s=r(7982),a=r.n(s),o=r(2713),i=r.n(o),l=r(9536),d=r.n(l);r(7272);let c={title:"ATP — Gesti\xf3n Agro",description:"Sistema de gesti\xf3n agr\xedcola"};function u({children:e}){return n.jsx("html",{lang:"es",className:`${a().variable} ${i().variable} ${d().variable}`,children:n.jsx("body",{className:"font-sans bg-neutral-100 text-neutral-900 antialiased",children:e})})}},4687:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var n=r(8570);let s=(0,n.createProxy)(String.raw`/workspaces/atp-gestion-agro/frontend/app/login/page.tsx`),{__esModule:a,$$typeof:o}=s;s.default;let i=(0,n.createProxy)(String.raw`/workspaces/atp-gestion-agro/frontend/app/login/page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[290],()=>r(6839));module.exports=n})();